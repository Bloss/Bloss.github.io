(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{67:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h3",{attrs:{id:"打包后访问不到静态资源目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包后访问不到静态资源目录","aria-hidden":"true"}},[t._v("#")]),t._v(" 打包后访问不到静态资源目录")]),s("p",[t._v("原因: 打包后以相对路径去访问静态资源目录, 导致没有找到资源")]),s("p",[t._v("解决方案:\n"),s("code",[t._v("index.html")]),t._v("中加入下面这一行")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("base")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),s("blockquote",[s("p",[t._v("HTML ")]),s("base"),t._v(" 元素 指定用于一个文档中包含的所有相对URL的基本URL。一份中只能有一个"),s("base"),t._v("元素。 --- "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/base",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN")]),s("p")]),s("h3",{attrs:{id:"使用-browserhistory-时-直接访问子路由-404"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-browserhistory-时-直接访问子路由-404","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用 browserHistory 时, 直接访问子路由 404")]),s("p",[t._v("原因: 当直接访问或者刷新子路由时, 浏览器会向服务器请求 "),s("code",[t._v("example.com/child")]),t._v(", 服务器\n会去根目录下找 "),s("code",[t._v("child.html")]),t._v(" 文件, 但是我们服务器实际上并没有这样的物理路径文件, 因为\n我们的内容都是通过 "),s("code",[t._v("React-Router")]),t._v(" 渲染出来的, 所以报了 "),s("code",[t._v("404 error")])]),s("p",[t._v("解决方案:\n这里给出一个 "),s("code",[t._v("nginx")]),t._v(" 的方案:\n既然我们知道了出错的原因, 自然而然能想到一个方案, 就是让所有的请求都指向 "),s("code",[t._v("index.html")]),t._v(",\n子路由转交给 "),s("code",[t._v("React-Router")]),t._v(" 处理")]),s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("try_files")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[t._v("$uri")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token keyword"}},[t._v("index")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("p",[t._v("当然也有其他的一些解决方案, 比如使用 "),s("code",[t._v("webpack-dev-server")]),t._v(" 的服务器, 加上 "),s("code",[t._v("–history-api-fallback")]),t._v(" 参数.")]),s("p",[t._v("使用 "),s("code",[t._v("Node")]),t._v(" 服务器的也有对应解决方案, 这里也不做赘述了.")])])}],!1,null,null,null);a.default=n.exports}}]);